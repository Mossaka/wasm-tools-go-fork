package foo:foo;

interface handler {
    use types.{request};
    use types.{response};
    handle: func(some: borrow<request>) -> borrow<response>;
    handle-owned: func(some: own<request>) -> own<response>;
}

interface types {
    resource request {
        constructor: func(self: borrow<request>, arg: list<u32>);
        constructor: func(self: borrow<request>);
    };
    resource response {
        constructor: func(self: borrow<response>, arg: list<u32>);
        constructor: func(self: borrow<response>);
    };
}

world proxy {
    import types;
    import handler;
    export handler;
}
